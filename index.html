<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Robot Coin Collection</title>
    <style>
        body {
            margin: 0;
            padding: 20px;
            font-family: Arial, sans-serif;
            background: white;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        canvas {
            border: 2px solid #333;
            margin: 20px 0;
            touch-action: pan-y;
        }
        .controls {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }
        .controls .next-btn-spacing {
            margin-left: 20px;
        }
        .hidden {
            display: none;
        }
        #scene1 {
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        .episodes-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
        }
        .episode {
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        .episode canvas {
            border: 2px solid #333;
            margin: 10px 0;
        }
        .door-separator {
            width: 200px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 5px 0;
        }
        #scene2-status {
            font-size: 18px;
            margin: 10px 0;
            min-height: 25px;
            max-width: 600px;
            text-align: center;
        }
        button {
            padding: 10px 20px;
            font-size: 16px;
            cursor: pointer;
            border: none;
            border-radius: 5px;
            background: #4CAF50;
            color: white;
        }
        button:disabled {
            background: #ccc;
            cursor: not-allowed;
        }
        button:hover:not(:disabled) {
            background: #45a049;
        }
        #progress-container {
            width: 400px;
            max-width: 90vw;
            height: 30px;
            background: #f0f0f0;
            border-radius: 15px;
            overflow: hidden;
            margin-bottom: 20px;
            display: none;
        }
        #progress-bar {
            height: 100%;
            background: linear-gradient(90deg, #4CAF50, #8BC34A);
            width: 0%;
            transition: width 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }
        #status {
            font-size: 18px;
            margin-bottom: 10px;
            min-height: 25px;
        }
        p {
          max-width: 600px;
          margin: 1ex auto;
        }
    </style>
</head>
<body>
    <h1>Robot Coin Collector</h1>
    <div class="controls">
        <button id="start-btn">Start</button>
        <button id="reset-btn">Reset</button>
        <button id="next-btn" class="next-btn-spacing">Next</button>
    </div>
    <div id="scene1">
    <canvas id="game-canvas"></canvas>
    <div id="status">
      <p>We want our AI to do good things (represented by collecting green coins) and to avoid doing bad things (represented by collecting red coins). We have a candidate AI (the robot), but we are not certain if it wants green coins, red coins, both coins, or if it has some other goal that we don't understand. We want to test the robot before deploying it in the real world, to make sure it behaves as intended.</p>
      <p>So we test the robot in a simulated environment to see if it behaves well. If it does not, we train it more, or at the very least we refuse to deploy it (represented by the door remaining closed if the red coin is collected or if the green coin is not collected). We test several times, to make sure (two doors in this simplified example).</p>
      <p>If the robot passes both tests, we trust that it behaves as desired, so we deploy it in the real world and expect it to continue collecting the green coins and avoiding the red coins. Let's see this approach at work!</p>
    </div>
    <div id="progress-container">
        <div id="progress-bar">0%</div>
    </div>
    </div>
    <div id="scene2" class="hidden">
        <!-- Episode-based scene with individual grids -->
        <div class="episodes-container">
            <div id="scene2-status"></div>
            <!-- Episodes will be rendered dynamically -->
        </div>
    </div>

    <script src="bundle.js"></script>
</body>
</html>
